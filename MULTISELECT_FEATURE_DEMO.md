# DropdownChoose 多选模式新功能演示

## 功能概述

在多选模式下，DropdownChoose 组件现在提供了更丰富的底部按钮功能：

1. **左侧："已选择"按钮** - 显示已选择项目数量，点击可查看详细列表
2. **右侧："确认选择"按钮** - 确认当前选择并关闭弹窗

## 界面展示

### 底部按钮布局

```
┌─────────────────────────────────────────────────────────┐
│                    [已选择 (3)] [确认选择]              │
└─────────────────────────────────────────────────────────┘
```

### 已选择项目弹窗

点击"已选择"按钮后会显示一个弹窗，展示所有已选择的项目：

```
┌─────────────────────────────────────────────────────────┐
│ ✓ 已选择的项目 (3)                                      │
├─────────────────────────────────────────────────────────┤
│ ✓ 选项1                                    🗑️ 移除     │
│ ✓ 选项2                                    🗑️ 移除     │
│ ✓ 选项3                                    🗑️ 移除     │
├─────────────────────────────────────────────────────────┤
│                           [关闭]                        │
└─────────────────────────────────────────────────────────┘
```

## 功能特性

### 1. 智能按钮状态

- **有选择项目时**：两个按钮都可用
- **无选择项目时**：两个按钮都被禁用，显示灰色

### 2. 已选择项目管理

- 实时显示选择数量
- 点击查看详细列表
- 支持在弹窗中直接移除项目
- 移除后自动更新选择状态
- 主弹窗和已选择弹窗状态完全同步

### 3. 用户体验优化

- 清晰的视觉反馈
- 直观的操作流程
- 响应式的状态更新

## 使用示例

```dart
DropdownChoose<String>(
  list: options,
  multiple: true,
  onMultipleSelected: (values) {
    print('选择了：${values.map((e) => e.label).join(', ')}');
  },
)
```

## 技术实现

### 按钮布局

- 使用 `Row` 布局，两个按钮各占一半宽度
- 中间用 `SizedBox(width: 12)` 分隔
- 两个按钮都使用 `Expanded` 包装确保等宽

### 已选择弹窗

- 使用 `AlertDialog` 显示已选择项目
- 每个项目显示为卡片样式，包含移除按钮
- 支持动态移除项目并实时更新状态

### 状态管理

- 按钮状态根据 `_selectedValues` 长度动态变化
- 移除项目后自动刷新弹窗内容
- 保持与主弹窗的状态同步
- 使用 `setState` 确保两个弹窗状态完全一致

## 优势

1. **更好的用户体验**：用户可以清楚看到已选择的内容
2. **便捷的项目管理**：支持在弹窗中直接移除项目
3. **清晰的视觉反馈**：按钮状态和数量显示直观明了
4. **一致的设计语言**：与整体 UI 风格保持一致
